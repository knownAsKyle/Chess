<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Chess</title>
		<link href="styles/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
		<link rel="stylesheet" type="text/css" href="styles/ferriswheelbutton.min.css">
		<link rel="stylesheet" type="text/css" href="styles/sweetalert.css">
		<link href="styles/style.css" rel="stylesheet" />
	</head>
	<body>

	




		<div id="announcement"></div>
		<div id="board" class="board"></div>
		<div id="playerOne" class="playerWrapper">
			<div class="player-name">Player 1</div> 
		</div>
		<div id="playerTwo" class="playerWrapper">
			<div class="player-name">Player 2</div>
		</div>
		<script src="https://cdn.firebase.com/js/client/2.4.0/firebase.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		<script src="js/jquery.ferriswheelbutton.min.js"></script>
		<script src="sweetalert.min.js"></script>
		<script src="js/main.js"></script>
		<script type="text/javascript">
	jQuery(document).ready(function($) {

		options = {
			'primaryIcon':'external-link',
		};

		icons = ['google','check-square','rocket'];
		$.ferrisWheelButton(options,icons);


		//Directly make them links
		//$.ferrisWheelButton('addLink','google','https://www.google.com/');
		//$.ferrisWheelButton('addLink','codepen','http://codepen.io/');
		var allButtons = $.ferrisWheelButton('getButtons')
		var googleButton = $.ferrisWheelButton('getButton','google')
		var infoButton = $.ferrisWheelButton('getButton','check-square')
		var playButton = $.ferrisWheelButton('getButton','rocket')


		//Use jquery on all buttons
		allButtons.css({
			'border':'2px solid white'
		});
		infoButton.css({
			'background-color':'#3b5998',
		});
		googleButton.css({
			'background-color':'#F44336'
		});


		//Use normal jquery methods on any button indivdiually
		allButtons.on('click',handleMenuButtonClick);

		function handleMenuButtonClick(ev){
			//this will stop closing
			ev.stopImmediatePropagation();
			var optionSelected = $(ev.target);
			var optionSelectedName = optionSelected.attr("title")?$(ev.target).attr("title"):optionSelected.children(".fa").attr("title");
			routeMenuButtonClick(optionSelectedName)
		}

		function routeMenuButtonClick(option){
			switch(option){
				case "google":
					Chester.auth.login()
				break;
				case "check-square":
					swal({  
						title: "Clear board?",   
						text: "This will reset the board",   
						type: "info",   
						showCancelButton: true,  
						confirmButtonText: "Ok!",
						cancelButtonText: "No, cancel!",   
						closeOnConfirm: false,   
						closeOnCancel: true 
					}, function(isConfirm){   
						if (isConfirm) { 
							console.log(Chester)
							Chester.board.makeNew();
							swal("Reset!", "game reset!", "success");   
						} 
					});
				break;
				case "rocket": 
				
					console.log("launching game menu")
					swal({
						showConfirmButton: false,
						title: "<div class='gameMenuTitle'>Games <button>New</button></div>",
						text: buildMockGames(6,false),
						html: true,
						allowOutsideClick: true
					})
					// swal({   title: "Game Menu!",   text: "list of active games here and a join/make new",   type: "warning",   confirmButtonText: "Cool" });
					$("body .innnerGameList ul").height($(".sweet-alert").height()-100)
				break;
				default:
			}
		}

		function buildMockGames(amt,addImg){
			var html = '<div class="innnerGameList"><ul>'
			for(var i = 0; i < amt; i++){
				html = html + '<li class="gameId_'+i+'">';
				if(addImg){
					html = html + '<img src="http://lorempixum.com/100/100/nature/'+(i+1)+'">';
				}
				
				html = html + '<h3><div class="playerOne">Player1 </div>vs<div class="playerTwo"> Player2</div></h3>';
				html = html + '<button id="gameId_'+i+'" class="joinGameButton">join game '+i+'!</button>';
				html = html + '</li>'
			}
			html = html + '</ul></div>'
			return html;
		}

		// //And use method chaining
		// $.ferrisWheelButton('getButton','pinterest').css({
		// 	'background-color':'#cc2127',
		// 	'border':'none'
		// }).attr('title','Click here to Pin this');

	});
</script>
	</body>
</html>


<!--
<div class="innnerGameList">
    <ul>
        <li> <img src="http://lorempixum.com/100/100/nature/1">
            <h3><span class="playerOne">Player1</span>vs<span class="playerTwo">Player2</span></h3>
            <p></p>
        </li>
        <li> <img src="http://lorempixum.com/100/100/nature/2">
            <h3>Paradise Found</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent euismod ultrices ante, ac laoreet nulla vestibulum adipiscing. Nam quis justo in augue auctor imperdiet.</p>
        </li>
        <li><img src="http://lorempixum.com/100/100/nature/3">
            <h3>Smoke On The Water</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent euismod ultrices ante, ac laoreet nulla vestibulum adipiscing. Nam quis justo in augue auctor imperdiet.</p>
        </li>
        <li><img src="http://lorempixum.com/100/100/nature/4">
            <h3>Headline</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent euismod ultrices ante, ac laoreet nulla vestibulum adipiscing. Nam quis justo in augue auctor imperdiet.</p>
        </li>
        <li><img src="http://lorempixum.com/100/100/nature/5">
            <h3>Headline</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent euismod ultrices ante, ac laoreet nulla vestibulum adipiscing. Nam quis justo in augue auctor imperdiet.</p>
        </li>
        <li><img src="http://lorempixum.com/100/100/nature/6">
            <h3>Headline</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent euismod ultrices ante, ac laoreet nulla vestibulum adipiscing. Nam quis justo in augue auctor imperdiet.</p>
        </li>
    </ul>
</div>
-->